#N canvas 511 118 811 582 12;
#N canvas 243 394 379 335 clock 0;
#X obj 17 62 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1 1
;
#X obj 17 13 loadbang;
#X obj 17 37 int 1;
#X obj 82 160 send clock;
#X obj 63 204 send clock_post;
#X obj 16 115 t b b b b b b;
#X obj 132 130 send clock_pre;
#X obj 17 81 metro 16;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 5 3 4 0;
#X connect 5 4 3 0;
#X connect 5 5 6 0;
#X connect 7 0 5 0;
#X restore 52 35 pd clock;
#N canvas 536 196 450 300 init 0;
#X obj 37 28 loadbang;
#X obj 37 86 send init;
#X obj 147 36 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 1 0;
#X connect 2 0 1 0;
#X restore 51 10 pd init;
#N canvas 668 320 466 335 midiout 0;
#X obj 74 141 until;
#X obj 138 141 int 0;
#X obj 74 100 t a b;
#X obj 74 174 int;
#X obj 74 199 t a a;
#X obj 124 176 + 1;
#X obj 23 49 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 74 276 ctlout;
#X obj 33 21 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 74 45 spigot 1;
#X obj 74 70 array size output;
#X obj 74 225 expr output[$f1]*127 \; $f1 \;;
#X obj 74 9 r clock_post;
#X connect 0 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 0 0;
#X connect 2 1 1 0;
#X connect 3 0 4 0;
#X connect 4 0 11 0;
#X connect 4 1 5 0;
#X connect 5 0 3 1;
#X connect 6 0 10 0;
#X connect 8 0 9 1;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X connect 11 0 7 0;
#X connect 11 1 7 1;
#X connect 12 0 9 0;
#X restore 239 409 pd midiout;
#N canvas 189 269 1175 460 osc_input 0;
#X obj 107 45 r init;
#X msg 107 86 listen 0 \, listen 51337;
#X obj 107 115 netreceive -u -b;
#X obj 107 147 oscparse;
#X obj 107 183 list trim;
#X obj 107 208 route EMG;
#X obj 107 233 route processed;
#X obj 107 312 array set emg;
#X obj 107 268 list;
#X obj 339 66 route accel;
#X obj 352 120 spigot;
#X obj 386 101 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 430 64 route gyro;
#X obj 543 117 spigot;
#X obj 577 98 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 352 145 print accel;
#X obj 543 142 print gyro;
#N canvas 64 137 791 536 accel 0;
#X obj 107 87 list split 1;
#X obj 92 50 inlet;
#X obj 146 116 list;
#X obj 146 141 array set accel_raw;
#X connect 0 1 2 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X restore 337 299 pd accel;
#X obj 338 192 list split 1;
#X obj 377 221 list;
#X obj 377 246 array set accel_raw;
#X obj 627 222 list split 1;
#X obj 666 251 list;
#X obj 666 276 array set gyro_raw;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 1 9 0;
#X connect 6 0 8 0;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 9 0 18 0;
#X connect 9 1 12 0;
#X connect 10 0 15 0;
#X connect 11 0 10 1;
#X connect 12 0 13 0;
#X connect 12 0 21 0;
#X connect 13 0 16 0;
#X connect 14 0 13 1;
#X connect 18 1 19 0;
#X connect 19 0 20 0;
#X connect 21 1 22 0;
#X connect 22 0 23 0;
#X restore 54 80 pd osc_input;
#N canvas 548 131 450 300 midiin 0;
#X obj 71 14 ctlin;
#X obj 68 80 array set emg;
#X obj 70 53 / 127;
#X connect 0 0 2 0;
#X connect 0 1 1 1;
#X connect 2 0 1 0;
#X restore 53 58 pd midiin;
#X obj 55 118 array define -yrange 0 1 emg 10;
#X obj 54 190 array define -yrange 0 1 accel_raw 10;
#X obj 192 41 text define -k accel_max;
#A set # input max \; 0 0.5 \; 1 0.5 \; 2 0.5 \; 3 0.5 \; 4 0.5 \;
5 0.5 \; 6 0.5 \; 7 0.5 \; 8 0.5 \; 9 0.5 \;;
#X obj 150 14 text define -k mapping_capteur;
#A set 0 0 \; 1 1 \; 2 2 \; 3 3 \; 4 4 \; 5 5 \; 6 6 \; 7 7 \; 8 8
\; 9 9 \;;
#X obj 201 69 text define -k gyro_max;
#A set 0 200 \; 1 200 \; 2 200 \; 3 200 \; 4 200 \; 5 200 \; 6 200
\; 7 200 \; 8 200 \; 9 200 \;;
#X obj 59 306 array define -yrange 0 1 gyro_raw 10;
#X obj 59 515 array define -yrange 0 1 output 30;
#X obj 51 216 array define -yrange 0 1 accel_scaled 10;
#X obj 57 331 array define -yrange 0 1 gyro_scaled 10;
#X obj 53 238 array define -yrange 0 1 accel_map 10;
#X obj 56 140 array define -yrange 0 1 emg_map 10;
#X obj 61 360 array define -yrange 0 1 gyro_map 10;
#N canvas 2 58 569 540 scale_accel 0;
#X obj 90 169 until;
#X obj 90 102 t b b;
#X obj 90 142 array size accel_raw;
#X obj 242 145 v i;
#X obj 90 196 expr i=i+1;
#X obj 242 122 -1;
#X obj 136 252 text search accel_max;
#X obj 136 277 text get accel_max 1;
#X obj 113 340 clip 0 1;
#X obj 113 311 expr accel_raw[$f1]/$f2;
#X obj 90 221 t a a a;
#X obj 90 365 expr accel_scaled[$f1]=$f2;
#X obj 87 69 r clock_pre;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 1 5 0;
#X connect 2 0 0 0;
#X connect 4 0 10 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 9 1;
#X connect 8 0 11 1;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 10 1 9 0;
#X connect 10 2 6 0;
#X connect 12 0 1 0;
#X restore 326 190 pd scale_accel;
#N canvas 2 58 569 540 scale_gyro 0;
#X obj 90 169 until;
#X obj 90 102 t b b;
#X obj 242 145 v i;
#X obj 90 196 expr i=i+1;
#X obj 242 122 -1;
#X obj 113 340 clip 0 1;
#X obj 90 221 t a a a;
#X obj 136 252 text search gyro_max;
#X obj 136 277 text get gyro_max 1;
#X obj 90 142 array size gyro_raw;
#X obj 113 311 expr gyro_raw[$f1]/$f2;
#X obj 90 399 expr gyro_scaled[$f1]=$f2;
#X obj 81 29 r clock_pre;
#X connect 0 0 3 0;
#X connect 1 0 9 0;
#X connect 1 1 4 0;
#X connect 3 0 6 0;
#X connect 4 0 2 0;
#X connect 5 0 11 1;
#X connect 6 0 11 0;
#X connect 6 1 10 0;
#X connect 6 2 7 0;
#X connect 7 0 8 0;
#X connect 8 0 10 1;
#X connect 9 0 0 0;
#X connect 10 0 5 0;
#X connect 12 0 1 0;
#X restore 344 301 pd scale_gyro;
#N canvas 17 99 581 494 map_in_out_capteur 0;
#X obj 154 88 r clock;
#X obj 154 113 10;
#X obj 153 215 until;
#X obj 153 148 t b b;
#X obj 199 172 v i;
#X obj 153 242 expr i=i+1;
#X obj 199 149 -1;
#X obj 153 188 10;
#X obj 213 298 text search mapping_capteur;
#X obj 213 323 text get mapping_capteur 1;
#X obj 189 396 expr emg_map[$f1]=emg[$f2];
#X obj 153 267 t a a a a;
#X obj 424 373 t a a a;
#X obj 170 423 expr accel_map[$f1]=accel_scaled[$f2];
#X obj 147 462 expr gyro_map[$f1]=gyro_scaled[$f2];
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 5 0;
#X connect 3 0 7 0;
#X connect 3 1 6 0;
#X connect 5 0 11 0;
#X connect 6 0 4 0;
#X connect 7 0 2 0;
#X connect 8 0 9 0;
#X connect 9 0 12 0;
#X connect 11 0 14 0;
#X connect 11 1 13 0;
#X connect 11 2 10 0;
#X connect 11 3 8 0;
#X connect 12 0 10 1;
#X connect 12 1 13 1;
#X connect 12 2 14 1;
#X restore 372 16 pd map_in_out_capteur;
#N canvas 589 190 605 528 to_output 0;
#X text 48 21 emg accel gyro;
#X obj 47 232 text search osc_name_space;
#X obj 175 138 until;
#X obj 175 71 t b b;
#X obj 234 125 v i;
#X obj 175 165 expr i=i+1;
#X obj 234 102 -1;
#X obj 175 111 10;
#X obj 48 296 text get osc_name_space 1;
#X obj 62 389 list append;
#X obj 229 367 list append;
#X obj 299 324 list append;
#X obj 60 461 outlet;
#X obj 239 264 expr emg_map[$f1] \; accel_map[$f1] \; gyro_map[$f1]
\;;
#X obj 176 190 t a a a;
#X obj 389 262 expr output[$f1*3]=emg_map[$f1] \; output[$f1*3+1]=accel_map[$f1]
\; output[$f1*3+2]=gyro_map[$f1] \;;
#X obj 174 42 r clock_post;
#X connect 1 0 8 0;
#X connect 2 0 5 0;
#X connect 3 0 7 0;
#X connect 3 1 6 0;
#X connect 5 0 14 0;
#X connect 6 0 4 0;
#X connect 7 0 2 0;
#X connect 8 0 9 0;
#X connect 9 0 12 0;
#X connect 10 0 9 1;
#X connect 11 0 10 1;
#X connect 13 0 10 0;
#X connect 13 1 11 0;
#X connect 13 2 11 1;
#X connect 14 0 1 0;
#X connect 14 1 13 0;
#X connect 14 2 15 0;
#X connect 16 0 3 0;
#X restore 74 408 pd to_output;
#X obj 401 64 text define -k osc_name_space;
#A set 0 /test/0 \; 1 /test/1 \; 2 /test/2 \; 3 /test/3 \; 4 /test/4
\; 5 /test/5 \; 6 /test/6 \; 7 /test/7 \; 8 /test/8 \; 9 /test/9 \;
;
#N canvas 592 210 639 413 netsender 0;
#X obj 60 19 inlet;
#X obj 60 63 list split 1;
#X obj 112 216 list;
#X obj 56 248 oscformat;
#X obj 48 154 list prepend set;
#X obj 48 179 list trim;
#X obj 48 204 t b a;
#X obj 56 335 netsend -u -b;
#X obj 284 99 inlet;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 8 0 7 0;
#X restore 74 486 pd netsender;
#X msg 159 458 disconnect \, connect 239.200.200.200 9999;
#X obj 159 433 loadbang;
#X connect 20 0 22 0;
#X connect 23 0 22 1;
#X connect 24 0 23 0;
